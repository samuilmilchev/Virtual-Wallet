@model ListTransactionsViewModel

<link href="~/css/responsive.css?v=1.0" rel="stylesheet" />

<link href="~/css/style.css?v=2.0" rel="stylesheet" />

<br>
<br>
<h2>All transactions:</h2>
<hr>
<form asp-controller="User" asp-action="ListTransactions" method="post">

    <div>
        @foreach (var transaction in Model.TransactionsList)
        {
            <div class="container">
                <div class="form-title">
                    <h1>Transaction Details</h1>
                    <hr>
                </div>

                <div class="form-inputs">
                    <div class="input-box">
                        <p style="text-align: left; font-size: 20px;">
                            <strong>Type:</strong> <span id="user-username">@transaction.Type</span>
                        </p>
                    </div>
                    <br />
                    <div class="input-box">
                        <p style="text-align: left; font-size: 20px;">
                            <strong>Amount:</strong> <span id="user-lastname">@transaction.Amount</span>
                        </p>
                    </div>
                    <br />
                    <div class="input-box">
                        <p style="text-align: left; font-size: 20px;">
                            <strong>Wallet Name:</strong> <span id="user-phonenumber">@transaction.Wallet.WalletName</span>
                        </p>
                    </div>
                    <br />
                    <div class="input-box">
                        <p style="text-align: left; font-size: 20px;">
                            <strong>Time of transaction: </strong> <span id="user-phonenumber">@transaction.Timestamp.ToString()</span>
                        </p>
                    </div>
                </div>
            </div>
        }

    </div>
    <ul class="pagination">
        @for (int i = 1; i <= Model.pageCount; i++)
        {
            <li class="page-item">
                @if (i != Model.currentPageIndex)
                {
                    <a class="page-link" href="javascript:PagerClick(@(i))">@i</a>
                }
                else
                {
                    <a class="page-link active">@i</a>
                }
            </li>
        }
    </ul>
    <input type="hidden" id="hfCurrentPageIndex" name="currentPageIndex" value="1" />
</form>

<div class="input-box" style="position: center-right;">
    <form asp-controller="User" asp-action="SearchTransactionBySender" method="post">
        <input type="text" name="text" style="width:200px; height:30px; background:#fff; border-radius: 30px;" class="input-field" placeholder="Sender" />
        <button type="submit" style="width:100; height:30px; border-radius: 30px; background: #fff" class="input-submit">Search</button>
    </form>

    <form asp-controller="User" asp-action="SearchTransactionByRecipient" method="post">
        <input type="text" name="text" style="width:200px; height:30px; background:#fff; border-radius: 30px;" class="input-field" placeholder="Recipient" />
        <button type="submit" style="width:100; height:30px; border-radius: 30px; background: #fff" class="input-submit">Search</button>
    </form>

    <form asp-controller="User" asp-action="SearchTransactionByType" method="post">
        <select id="transferType" name="text" class="form-control">
            <option value="-">-</option>
            <option value="Add">Add</option>
            <option value="Withdraw">Withdraw</option>
        </select>
        <button type="submit" style="width:100; height:30px; border-radius: 30px; background: #fff" class="input-submit">Search</button>
    </form>

    <form asp-controller="User" asp-action="SortByDate" method="post">
        <select id="transferType" name="text" class="form-control">
            <option value="Oldest">Oldest</option>
            <option value="Newest">Newest</option>
        </select>
        <button type="submit" style="width:100; height:30px; border-radius: 30px; background: #fff" class="input-submit">Search</button>
    </form>

    <form asp-controller="User" asp-action="SortByAmount" method="post">
        <select id="transferType" name="text" class="form-control">
            <option value="High">High</option>
            <option value="Low">Low</option>
        </select>
        <button type="submit" style="width:100; height:30px; border-radius: 30px; background: #fff" class="input-submit">Search</button>
    </form>
</div>

<script type="text/javascript">
    function PagerClick(index) {
        document.getElementById("hfCurrentPageIndex").value = index;
        document.forms[0].submit();
    }
</script>

<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

@using (Html.BeginForm("GetDateToDate", "User", FormMethod.Post))
{
    <label for="startDate">From:</label>
    <input type="text" id="startDate" name="startDate" />

    <label for="endDate">To:</label>
    <input type="text" id="endDate" name="endDate" />

    <button type="submit">Submit</button>
}

<script>
    $(function () {
        $("#startDate").datepicker({
            dateFormat: "yy-mm-dd"
        });
        $("#endDate").datepicker({
            dateFormat: "yy-mm-dd"
        });
    });
</script>