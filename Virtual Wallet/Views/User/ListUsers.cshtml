@model UserPViewModel

<form asp-controller="User" asp-action="ListUsers" method="post">
    
    <div>
        @foreach (var user in Model.UserList)
        {
            <div class="container">
                <div class="form-title">
                    <h1>User Details</h1>
                    <hr>
                </div>

                <div class="form-inputs">
                    <div class="input-box">
                        <p style="text-align: left; font-size: 20px;">
                            <strong>Username:</strong> <span id="user-username">@user.Username</span>
                        </p>
                    </div>
                    <br />
                    <div class="input-box">
                        <p style="text-align: left; font-size: 20px;">
                            <strong>Email:</strong> <span id="user-lastname">@user.Email</span>
                        </p>
                    </div>
                    <br />
                    <div class="input-box">
                        <p style="text-align: left; font-size: 20px;">
                            <strong>Phone Number:</strong> <span id="user-phonenumber">@user.PhoneNumber</span>
                        </p>
                    </div>
                    <br />
                    <div class="input-box">
                        <p style="text-align: left; font-size: 20px;">
                            <strong>Role:</strong> <span id="user-phonenumber">@user.Role</span>
                        </p>
                    </div>
                    <div class="input-box">
                        <p style="text-align: left; font-size: 20px;">
                            <strong>IsBlocked:</strong> <span id="user-phonenumber">@user.IsBlocked</span>
                        </p>
                    </div>

                    <div style="display: flex;" class="input-box">
                        <button style="width: 80px; height: 50px; margin-left: 20px;" class="input-submit">
                            <a style="text-decoration: none; font-size: 20px; color: black;" asp-controller="User" asp-action="Edit" asp-route-username="@user.Username">Edit</a>
                        </button>
                    </div>

                    @if (!user.IsBlocked)
                    {
                        <div style="display: flex;" class="input-box">
                            <button style="width: 80px; height: 50px; margin-left: 20px;" class="input-submit">
                                <a style="text-decoration: none; font-size: 20px; color: black;" asp-controller="User" asp-action="BlockUser" asp-route-username="@user.Username">Block</a>
                            </button>
                        </div>
                    }
                    else
                    {
                        <div style="display: flex;" class="input-box">
                            <button style="width: 80px; height: 50px; margin-left: 20px;" class="input-submit">
                                <a style="text-decoration: none; font-size: 20px; color: black;" asp-controller="User" asp-action="UnblockUser" asp-route-username="@user.Username">Unblock</a>
                            </button>
                        </div>
                    }
                </div>
            </div>
        }
    </div>
    <ul class="pagination">
        @for (int i = 1; i <= Model.pageCount; i++)
        {
            <li class="page-item">
                @if (i != Model.currentPageIndex)
                {
                    <a class="page-link" href="javascript:PagerClick(@i)">@i</a>
                }
                else
                {
                    <a class="page-link active">@i</a>
                }
            </li>
        }
    </ul>
    <input type="hidden" id="hfCurrentPageIndex" name="currentPageIndex" value="1" />
</form>

<div class="input-box" style="position: center-right;">
    <form asp-controller="User" asp-action="SearchByUsername" method="post">
        <input type="text" name="text" style="width:200px; height:30px; background:#fff; border-radius: 30px;" class="input-field" placeholder="Username" />
        <button type="submit" style="width:100; height:30px; border-radius: 30px; background: #fff" class="input-submit">Search</button>
    </form>

    <form asp-controller="User" asp-action="SearchByEmail" method="post">
        <input type="text" name="text" style="width:200px; height:30px; background:#fff; border-radius: 30px;" class="input-field" placeholder="Email" />
        <button type="submit" style="width:100; height:30px; border-radius: 30px; background: #fff" class="input-submit">Search</button>
    </form>

    <form asp-controller="User" asp-action="SearchByNumber" method="post">
        <input type="text" name="text" style="width:200px; height:30px; background:#fff; border-radius: 30px;" class="input-field" placeholder="PhoneNumber" />
        <button type="submit" style="width:100; height:30px; border-radius: 30px; background: #fff" class="input-submit">Search</button>
    </form>
</div>


<script type="text/javascript">
    function PagerClick(index) {
        document.getElementById("hfCurrentPageIndex").value = index;
        document.forms[0].submit();
    }
</script>