@model UserPViewModel

<link href="~/css/responsive.css?v=1.0" rel="stylesheet" />
<link href="~/css/style.css?v=2.0" rel="stylesheet" />
<link href="~/css/custom-style.css" rel="stylesheet" />
<link href="~/css/AllUsers.css?v=1.0" rel="stylesheet" />

<br>
<br>
<br>
<br>
<br>
<br>

<!-- Flex container to group user details and search forms side by side -->
<div class="user-container-wrapper">
    <form asp-controller="User" asp-action="ListUsers" method="post" class="users-form">
        @foreach (var user in Model.UserList)
        {
            <div style="width:1000px;" class="container user-container">
                <div class="user-info">
                    <div class="form-title">
                        <h1>User Details</h1>
                        <hr>
                    </div>

                    <div class="form-inputs">
                        <div class="input-box">
                            <p class="control-label">
                                <strong style="font-size:20px; color:black;">Username:</strong>
                                <a asp-controller="User" asp-action="UserDetails" asp-route-username="@user.Username" style="font-size:25px; color:black;" class="control-label">@user.Username</a>
                            </p>
                        </div>

                        <div class="input-box">
                            <p class="control-label">
                                <strong style="font-size:20px; color:black;">Email:</strong>
                                <span id="user-lastname" style="font-size:20px; color:black;">@user.Email</span>
                            </p>
                        </div>

                        <div class="input-box">
                            <p class="control-label">
                                <strong style="font-size:20px; color:black;">Phone Number:</strong>
                                <span id="user-phonenumber" style="font-size:20px; color:black;">@user.PhoneNumber</span>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="user-image">
                    <img src="@user.Image" alt="User Image" class="image-style" />
                </div>
            </div>
            <br>
            <br>
        }

        <ul class="pagination" style="color:black; font-size:20px;">
            @for (int i = 1; i <= Model.pageCount; i++)
            {
                <li class="page-item">
                    @if (i != Model.currentPageIndex)
                    {
                        <a class="page-link" href="javascript:PagerClick(@i)">@i</a>
                    }
                    else
                    {
                        <a class="page-link active">@i</a>
                    }
                </li>
            }
        </ul>
        <input type="hidden" id="hfCurrentPageIndex" name="currentPageIndex" value="1" />
    </form>

    <!-- Search forms section next to user details -->
    <div class="search-forms">
        <form asp-controller="User" asp-action="SearchByUsername" method="post" class="form-group">
            <div class="search-container">
                <input type="text" name="text" class="input-field" placeholder="Username" />
                <button type="submit" class="input-submit">Search</button>
            </div>
        </form>

        <form asp-controller="User" asp-action="SearchByEmail" method="post" class="form-group">
            <div class="search-container">
                <input type="text" name="text" class="input-field" placeholder="Email" />
                <button type="submit" class="input-submit">Search</button>
            </div>
        </form>

        <form asp-controller="User" asp-action="SearchByNumber" method="post" class="form-group">
            <div class="search-container">
                <input type="text" name="text" class="input-field" placeholder="PhoneNumber" />
                <button type="submit" class="input-submit">Search</button>
            </div>
        </form>
    </div>
</div>

<script type="text/javascript">
    function PagerClick(index) {
        document.getElementById("hfCurrentPageIndex").value = index;
        document.forms[0].submit();
    }
</script>